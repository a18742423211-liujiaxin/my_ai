{% extends "base.html" %}

{% block title %}文生图 - 大驴AI{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">AI文生图</h1>
    <p>用文字描述您的想象，AI将为您创造精美的图像作品</p>
</div>

<div class="form-container">
    <div class="form-group">
        <label class="form-label">图像描述</label>
        <textarea class="form-control" id="imagePrompt" placeholder="请描述您想要生成的图像..." rows="4"></textarea>
    </div>
    
    <div class="form-group">
        <label class="form-label">图像尺寸</label>
        <div class="button-group">
            <button class="option-btn active" data-size="1024*1024">
                <i class="fas fa-square"></i> 正方形 (1024×1024)
            </button>
            <button class="option-btn" data-size="1344*768">
                <i class="fas fa-expand-arrows-alt"></i> 横向 (1344×768)
            </button>
            <button class="option-btn" data-size="768*1344">
                <i class="fas fa-arrows-alt-v"></i> 纵向 (768×1344)
            </button>
        </div>
        <input type="hidden" id="imageSize" value="1024*1024">
    </div>
    
    <button class="btn" onclick="generateImage()">
        <i class="fas fa-magic"></i> 生成图像
    </button>
    
    <div class="loading" id="imageLoading">
        <div class="spinner"></div>
        <p id="imageLoadingText">AI正在创作图像中，请耐心等待...</p>
        <!-- 添加进度条 -->
        <div class="progress-container" id="imageProgressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="imageProgressFill" style="width: 0%;"></div>
            </div>
            <div class="progress-info">
                <span id="imageProgressPercent">0%</span>
                <span id="imageProgressMessage">初始化中...</span>
                <span id="imageProgressTime">准备中...</span>
            </div>
        </div>
    </div>
    
    <div class="result-container hidden" id="imageResult">
        <h3>生成结果：</h3>
        <img id="generatedImage" class="result-image" alt="生成的图像">
    </div>
</div>
{% endblock %} 